# 称霸web的PHP

## chapter 0:PHP的介绍

PHP在1994年被丹麦-加拿大程序员Rasmus Lerdorf创建，曾经一度被人戏称为“全世界最好的语言”，想要更深入浅出地了解PHP，我们可以从一个有趣的段子入手。

```
三个程序员坐在格子间里编程。

一个程序员一言不发，他用的是python。

一个程序员写一会儿就按一下编译，然后就玩会儿手机，他用的是C++。

一个程序员坐在那里浏览网页，不时飞快地键入一些字符。

经理看到，怒道：你怎么不干活，尽在上网。

程序员回答：我在查实现这个功能需要用什么函数。

他用的是PHP[1]。

```

段子虽然只是博人一笑，但我们依旧可以看出，PHP的函数十分繁多，难以记忆。它不如Python轻巧，但却简单易学，容易上手。PHP可以支持web的原生应用，它吸收了C语言、Java和Perl的特点，利于学习与传播。作为一种在计算机上运行的脚本语言，PHP的主要用途是处理动态网页，也包括命令行的运行界面或者是产生图形用户界面程序。由于PHP是将程序嵌入到HTML文档中去执行，所以用PHP作出的动态页面执行效率更高，并且PHP还可以执行编译后的代码，在编译过程中可以对代码进行加密和优化，从而使得代码运行的更快。

截止到2020年4月，PHP 7是该语言最常用的版本[2]。

<div align=center>
<img src="https://upload-images.jianshu.io/upload_images/3868733-b86dbf3b99795a83.png" width="250">
</div> 

## chapter 1:PHP的诞生与发展
PHP原本的简称为Personal Home Page，是Rasmus Lerdorf为了维护个人网页，使用C语言开发的一些CGI工具程序集，目的是取代原本的Perl程序。这些工具程序最初被用来显示他的个人履历，以及统计网页流量。

<div align=center>
<img src="https://upload.wikimedia.org/wikipedia/commons/9/9c/Rasmus_Lerdorf_cropped.jpg" width="150">
</div> 

他将这些程序和一些窗体解释器集成，成为PHP/FI。PHP/FI可以可数据库连接，产生简单的动态网页程序。随着时间的流逝，人们对功能有了进一步的要求，Rasmus也重写了PHP工具，重写的新模型能够进行数据库交互以及提供了一个框架，用户可以在该框架上开发简单的动态Web应用程序，比如留言簿。

1995年6月，Rasmus向公众公开了PHP工具的源代码，使开发人员可以根据自己的意愿使用它，并鼓励用户查找和修复代码上的漏洞，对PHP作出进一步的完善。这个版本被命名为PHP2.

1997年的时候，两个以色列程序工程师Andi Gutmans 和 Zeev Suraski 加入了PHP开发项目组。在网上，他们讨论了当前实现的各个方面以及PHP的重新开发。为了改进引擎并开始建立PHP / FI的现有用户群，Andi，Rasmus和Zeev决定合作开发新的独立编程语言。这种全新的语言以新名称发布，消除了PHP / FI 2的有限个人使用的含义。它被简单地重命名为“ PHP”，其含义变成了递归首字母缩写-PHP：Hypertext Preprocessor。经过几个月的测试，开发团队在1997年11月发布了PHP/FI 2，随后开始进行PHP 3的测试，最后在1998年6月正式发布了PHP 3.

<img src="https://upload.wikimedia.org/wikipedia/commons/f/f6/Andi_Gutmans_1.jpg" width="130"><img src="https://upload.wikimedia.org/wikipedia/commons/c/cf/Zeev_Suraski_2005_cropped.jpg" width=130>  
图左为Andi Gutmans右为Zeev Suraski

PHP 3发布后，Andi Gutmans 和 Zeev Suraski开始改写PHP的内核，目的是复杂应用程序的性能，并改善PHP代码库的模块化。新引擎被称为“Zend Engine”，是两个人名字的结合，在1999年被首次推出。基于这个引擎的PHP 4于2000年5月正式发布，结合了许多新的功能。除了性能大大提高外，PHP 4还包括其他关键功能，比如支持更多的Web服务器，HTTP会话，输出缓冲，更安全的处理用户输入方式以及几种新的语言构成[3]。

2004年7月，PHP 5被发布。它主要是由Zend 2.0驱动，具有一个新的对象模型和许多其他新功能。从此之后PHP的发展步伐逐渐缓慢，直到2015年12月，PHP7.0发布，使用了PHPNG引擎，大幅提高了性能，并引入了标量类型声明、返回值类型声明、匿名类等一些期待许久的新特性。

目前PHP仍然处在PHP 7的时代，之所以越过了PHP 6直接发布了PHP 7是因为开发者们做着做着就将原本的PHP 6计划的特性在PHP 5.5和PHP 5.6版实验了，后来大家一商量，索性决定直接跨过PHP 6进入PHP 7时代了。

## chapter 2:PHP的相关资源

**函数库**

PHP中内置了多样化的函数库，这些开放代码的函数提供了许多不同的功能，例如文件处理、字符串处理等等，这些函数的使用方法与C语言十分相似，这也是PHP容易学习的原因之一。

除了内置的函数之外，PHP也提供了很多延伸函数库（extension），像是各种数据库连接函数、数据压缩函数、图形处理等等。有些延伸函数库需要从PECL（PHP Extension Community Library）取得[4]。

**源代码编码和加速**

PHP的源代码是可以直接读取的，即使放到服务器上运行也一样，这虽然让PHP多了一些弹性，但同时也造成了安全性的下降。

通过PHP编码器，可以保护PHP的源代码不被读取（对商业软件来说特别有需求），也可以提升运行的效能。有许多公司或团体开发PHP的编码器，将PHP程序编译成字节码(byte code)，再通过服务器上安装对应的程序来运行PHP脚本。

除了通过编码器加速之外，PHP还可以通过动态的高速缓存机制来提升速度，加速工具有商业版的，例如Zend Platform，也有开放源代码的加速软件如eAccelerator、APC、XCache。

**模版引擎**

模板引擎让PHP应用程序可以做逻辑和使用界面上的分离，让程序开发更容易进行，目前比较受欢迎的模板引擎是PHP官方开发的Smarty。不过模板引擎有效能上的争议，因为PHP本身就是一个模板引擎，使用模板引擎反而变成“重新发明了轮子”（reinventing the wheel）。模板引擎最主要的好处就是让不懂PHP代码的人也可以参与使用界面的开发，因为模板引擎的语言远比PHP简单。

## chapter 3:PHP与大象

<img src="https://pic2.zhimg.com/80/fee41e54e6572df38fcd309aa33fd71e_1440w.jpg" width="250">

在学习PHP的过程中，相信很多人都不解为什么PHP的图标是一头大象。其实故事起源于1998年，大象图标的创作者EL ROUBIO决定开始学习PHP。作为一个图形设计师，他想学习如何用动态语言为自己做一个个人网站。在学习的过程中，他充分领会到了PHP的强大，自然而然的他创作了“第一头大象”来代表他心中的PHP。

最开始的大象图片只是为了好玩，他发给了一个朋友，这个朋友建议他将图片提交给一个法国知名的PHP站点。让他意想不到的是，他们立即采用了它。这张图片被许多人使用。而后一些法国的PHP站长要他用“大象” 为他们的站点做画。

这就是PHP与大象的故事，而之所以用大象作为PHP的象征其实也是因为如果你留意PHP这三个字母，你会发觉它看起来就像一头大象。

PHP作为一个流行的开源产品一直缺乏一个强有力的品牌标识可以帮助人们辨识出PHP的相关产品，就像 TUX企鹅那样被用于表明它是Linux的象征。”大象”的意义填补了PHP社区中的空白，可以帮助用户辨识出你的作品是和PHP息息相关的。但同时大象也是一个自由的提议，一个可选择的官方PHP标识，如果你不喜欢的话，完全可以选择不用它，如果你喜欢的话，也完全可以自由的使用，大象的创作者给予了这个标识充分的自由，让所有人都可以免费去创作和使用自己的大象[5]。

PHP的开发团队包括数十名开发人员，以及数十名从事与PHP相关的支持项目（例如PEAR，PECL和文档）的开发人员，以及在世界各大洲中其中六个有一百多个单独Web服务器的基础网络基础结构。尽管仅基于前几年的统计数据进行估算，但是可以安全地假设PHP现在已经安装在全球数以万计甚至数亿个域中。


## Reference
[1]https://www.zhihu.com/question/26498147/answer/67594246
[2]https://en.wikipedia.org/wiki/PHP
[3]https://www.php.net/manual/en/history.php.php
[4]http://www.nowamagic.net/php/php_Birth.php
[5]http://www.elroubio.net/
